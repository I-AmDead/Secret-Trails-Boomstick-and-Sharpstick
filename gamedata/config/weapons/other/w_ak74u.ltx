;------------------------------------------------------------------------------------------------
[wpn_ak74u]:identity_immunities,base_wpn_zoom,wpn_aks74u_sounds,hud_wpn_fx.ak74u
GroupControlSection       = spawn_group
$npc      = on
$prefetch = 8
$spawn    = "weapons\ak-74u"
scheduled = off
cform     = skeleton
parent_section    = wpn_ak74u

class     = WP_AK74
slot      = 2
animation_slot    = 8
ef_main_weapon_type       = 2
ef_weapon_type    = 6
hand_dependence   = 1
single_handed     = 0

default_to_ruck   = false
sprint_allowed    = true

hide_shell_bone = shell

icons_texture        = ui\ui_icon_bas
inv_grid_width      = 4
inv_grid_height     = 2
inv_grid_x  = 8
inv_grid_y  = 10

inv_name  = st_wpn_ak74u
inv_name_short    = st_wpn_ak74u
description       = st_wpn_ak74u_descr

kind      = w_rifle
inv_weight        = 2.48
cost      = 2000
repair_type       = rifle_5
weapon_class      = assault_rifle

hud       = wpn_ak74u_hud
visual    = dynamics\weapons\wpn_ak74u_n1\wpn_ak74u_n1_world.ogf

position  = -0.1, 0.1, -0.2
orientation       = 0, 0, 0
fire_point        = 0.0, -0.05, 0.656
fire_point2       = 0, 0.161, 0.583

strap_bone0       = bip01_spine2
strap_bone1       = bip01_spine1

strap_position    = -0.18, 0.0, 0.0
strap_orientation = -10, -5, 10

ph_mass   = 4

flame_particles   = weapons\generic_weapon05
;smoke_particles   = weapons\generic_shoot_00
grenade_flame_particles   = weapons\generic_weapon01

smoke_particles				             = ghost_particles\weapons\flame_eft_ak           ;particles remade incomp.
silencer_smoke_particles   		         = ghost_particles\weapons\generic_smoke_eft_sil  ;particles remade incomp.

shell_point  = 0,0.216,0.174
shell_dir  = 0,0,0.4
shell_bone	      = wpn_body

light_disabled    = false
light_color       = 0.6, 0.5, 0.3
light_range       = 5
light_time        = 0.2
light_var_color   = 0.05
light_var_range   = 0.5

upgrades  = up_gr_firstab_ak74u, up_gr_seconab_ak74u, up_gr_thirdab_ak74u, up_gr_fourtab_ak74u, up_gr_fifthab_ak74u
;installed_upgrades        =
upgrade_scheme    = upgrade_scheme_ak74u
upgr_icon_x       = 300
upgr_icon_y       = 300
upgr_icon_width   = 300
upgr_icon_height  = 100

fire_modes        = 1, -1
ammo_class        = ammo_5.45x39_fmj, ammo_5.45x39_ap
ammo_elapsed      = 30
ammo_mag_size     = 30
startup_ammo      = 90

scope_names    = kobra, ekp8_02, okp, pso2, pka, 1p78gs, 1pn93n2_1gs, 1pn93, 1p29, usp1, 1p76
scope_status   = 2

scope_respawn                         = wpn_ak74u
scope_respawn_kobra                   = wpn_ak74u_kobra
scope_respawn_ekp8_02                 = wpn_ak74u_ekp8_02
scope_respawn_okp                     = wpn_ak74u_okp
scope_respawn_pso2                    = wpn_ak74u_pso2
scope_respawn_pka                     = wpn_ak74u_pka
scope_respawn_1p78gs                  = wpn_ak74u_1p78gs
scope_respawn_1pn93n2_1gs             = wpn_ak74u_1pn93n2_1gs
scope_respawn_1pn93                   = wpn_ak74u_1pn93
scope_respawn_1p29                    = wpn_ak74u_1p29
scope_respawn_usp1                    = wpn_ak74u_usp1
scope_respawn_1p76                    = wpn_ak74u_1p76

scope_zoom_factor	    = 1.3

silencer_name     = wpn_sil_pbs4
silencer_status   = 2
silencer_x        = 175
silencer_y        = 10
silencer_light_color      = 0.6, 0.5, 0.3
silencer_light_range      = 0.01
silencer_light_time       = 0.2
silencer_light_var_color  = 0.05
silencer_light_var_range  = 0.5
;silencer_smoke_particles  = weapons\generic_shoot_00

launch_speed      = 0

hit_impulse       = 24
hit_power = 0.95, 0.95, 0.95, 0.95
hit_type  = fire_wound
fire_distance     = 900
bullet_speed      = 735
rpm       = 700
rpm_empty_click   = 200
ap_modifier       = 0.95

use_aim_bullet    = false
time_to_aim       = 0.0 ;  1.0
zoom_dof  = 0.5, 1.0, 180
zoom_enabled      = true
zoom_rotate_time  = 0.25
reload_dof        = 0.0, 0.5, 5, 2
control_inertion_factor  = 1.0f
crosshair_inertion        = 4.3
fire_dispersion_base      = 0.56
fire_dispersion_condition_factor  = 0.001

misfire_probability       = 0.005
misfire_start_condition   = 0.7 ;  0.78
misfire_start_prob        = 0.007
misfire_end_condition     = 0.1
misfire_end_prob  = 0.11

condition_queue_shot_dec  = 0.0002
condition_shot_dec        = 0.0002

cam_return        = 0
cam_relax_speed   = 12
cam_dispersion    = 0.646
cam_dispersion_frac       = 1.1
cam_dispersion_inc        = 0.0625
cam_max_angle     = 41.0
cam_max_angle_horz        = 41.0
cam_step_angle_horz       = 1.18
zoom_cam_relax_speed      = 12
zoom_cam_dispersion       = 0.616
zoom_cam_dispersion_frac  = 1.0
zoom_cam_dispersion_inc   = 0.0525
zoom_cam_max_angle        = 41.0
zoom_cam_max_angle_horz   = 41.0
zoom_cam_step_angle_horz  = 1.08

PDM_disp_accel_factor     = 1.655
PDM_disp_base     = 0.7
PDM_disp_crouch   = 1.0
PDM_disp_crouch_no_acc    = 1.0
PDM_disp_vel_factor       = 1.65

cam_relax_speed_ai        = 120.75
zoom_cam_relax_speed_ai   = 360
holder_fov_modifier       = 1.0
holder_range_modifier     = 1.0
min_radius        = 0
max_radius        = 500
hit_probability_gd_novice = 1.00
hit_probability_gd_stalker        = 1.00
hit_probability_gd_veteran        = 1.00
hit_probability_gd_master = 1.00

kill_msg_x        = 0
kill_msg_y        = 123
kill_msg_width    = 69
kill_msg_height   = 30

hud_fov		  = 0.75

;----------------------------------------------------------------------Sounds----------------------------------------------------------------------------------------
snd_bore		= $no_sound
snd_draw		= weapons\assault_draw
snd_holster		= weapons\assault_holster

snd_empty		= weapons\ak105_sp\trigger_hammer

snd_reload		= weapons\ak74u\ak74u_reload
snd_reload_empty        = weapons\ak74u\ak74u_reload_empty
snd_reload_jammed       = weapons\ak74u\ak74u_misfire

snd_switch		= weapons\generic\switch_mode

snd_shoot               = wpn_ak12_snd_shoot
snd_shoot_actor		= wpn_ak12_snd_shoot_actor
snd_silncer_shot	= wpn_545_c_snd_silenced
snd_silncer_shot_actor	= wpn_545_c_snd_silenced_actor

;-----------------------------------------------------------------------HUD-----------------------------------------------------------------------------
[wpn_ak74u_hud]:hud_base

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso, usp1

item_visual                              = dynamics\weapons\wpn_ak74u\wpn_ak74u_hud.ogf
attach_place_idx                         = 0
zoom_hide_crosshair                      = true   

item_position                            = 0, 0, 0
item_orientation                         = 0, 0, 0

hands_position				             = -0.011100,-0.065400,0.036000
hands_position_16x9			             = -0.011100,-0.065400,0.036000
hands_orientation			             = 0.000000,0.000000,0.000000
hands_orientation_16x9			             = 0.000000,0.000000,0.000000

aim_hud_offset_pos			             = -0.064201,0.019800,-0.056800
aim_hud_offset_pos_16x9			         = -0.064201,0.019800,-0.056800
aim_hud_offset_rot			             = 0.000000,0.000000,0.000000
aim_hud_offset_rot_16x9			         = 0.000000,0.000000,0.000000

lowered_hud_offset_pos                   = 0.129572,0.020899,0.011400
lowered_hud_offset_rot                   = 0.265000,-0.939999,0.000000
lowered_hud_offset_pos_16x9              = 0.129572,0.020899,0.011400
lowered_hud_offset_rot_16x9              = 0.265000,-0.939999,0.000000

gl_hud_offset_pos                        = 0, 0, 0
gl_hud_offset_pos_16x9                   = 0, 0, 0
gl_hud_offset_rot                        = 0, 0, 0
gl_hud_offset_rot_16x9                   = 0, 0, 0

lean_hud_offset_pos                      = 0, 0, 0
lean_hud_offset_rot                      = 0, 0, 0

;Доставание///////////////////////////////////////////////////
anm_show                   = aksu_draw
anm_show_empty             = aksu_draw
anm_show_jammed            = aksu_draw

;Убирание/////////////////////////////////////////////////////
anm_hide                   = aksu_hide
anm_hide_empty             = aksu_hide
anm_hide_jammed            = aksu_hide

;Бездействие//////////////////////////////////////////////////
anm_idle                            = aksu_idle
anm_idle_empty                      = aksu_idle
anm_idle_jammed                     = aksu_idle
anm_idle_slow                       = aksu_idle
anm_idle_slow_empty                 = aksu_idle
anm_idle_slow_jammed                = aksu_idle
anm_idle_crouch                     = aksu_idle
anm_idle_crouch_empty               = aksu_idle
anm_idle_crouch_jammed              = aksu_idle
anm_idle_crouch_slow                = aksu_idle
anm_idle_crouch_slow_empty          = aksu_idle
anm_idle_crouch_slow_jammed         = aksu_idle


;Бездействие в прицеливании///////////////////////////////////
anm_idle_aim                   = aksu_idle_aim
anm_idle_aim_empty             = aksu_idle_aim
anm_idle_aim_jammed            = aksu_idle_aim
anm_idle_aim_scope             = aksu_idle_aim
anm_idle_aim_scope_empty       = aksu_idle_aim
anm_idle_aim_scope_jammed      = aksu_idle_aim

;Ходьба ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving 					= aksu_walk
anm_idle_moving_jammed 					= aksu_walk
anm_idle_moving_empty					= aksu_walk

;Ходьба медленная (SHIFT) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_slow 					= aksu_walk
anm_idle_moving_slow_jammed 				= aksu_walk
anm_idle_moving_slow_empty				= aksu_walk

;Ходьба в полуприсяди (CTRL) ВПЕРЕД//////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch 					= aksu_walk
anm_idle_moving_crouch_jammed 				= aksu_walk
anm_idle_moving_crouch_empty				= aksu_walk

;Ходьба в присяде (CTRL+SHIFT) ВПЕРЕД/////////////////////////////////////////////////////////////////////////
anm_idle_moving_crouch_slow 				= aksu_walk
anm_idle_moving_crouch_slow_jammed 			= aksu_walk
anm_idle_moving_crouch_slow_empty			= aksu_walk

;Бег//////////////////////////////////////////////////////////////////
anm_idle_sprint                   = aksu_sprint
anm_idle_sprint_empty             = aksu_sprint
anm_idle_sprint_jammed            = aksu_sprint

;Вход в спринт//////////////////////////////////////////////////////////////////
anm_idle_sprint_start      	= aksu_sprint_start
anm_idle_sprint_start_empty  	= aksu_sprint_start
anm_idle_sprint_start_jammed 	= aksu_sprint_start

;Выход из спринта//////////////////////////////////////////////////////////////////
anm_idle_sprint_end        	= aksu_sprint_end
anm_idle_sprint_end_empty  	= aksu_sprint_end
anm_idle_sprint_end_jammed 	= aksu_sprint_end

;Выстрелы обычными патронами/////////////////////////////////////////////////////////////////////
anm_shots		   = aksu_shoot, shoot
anm_shots_aim              = aksu_aim_shoot, shoot

;Перезарядка/////////////////////////////////////////////////////////////////////
anm_reload                           = aksu_reload, reload
anm_reload_empty                     = aksu_reload_empty, reload_empty
anm_reload_jammed                    = aksu_revival, misfire
anm_reload_jammed_last               = aksu_revival, misfire

anm_idle_moving_slow_speed_k         	    = 0.7
anm_idle_moving_slow_empty_speed_k   	    = 0.7
anm_idle_moving_slow_jammed_speed_k  	    = 0.7
anm_idle_moving_crouch_speed_k         	    = 0.5
anm_idle_moving_crouch_empty_speed_k   	    = 0.5
anm_idle_moving_crouch_jammed_speed_k  	    = 0.5
anm_idle_moving_crouch_slow_speed_k         = 0.3
anm_idle_moving_crouch_slow_empty_speed_k   = 0.3
anm_idle_moving_crouch_slow_jammed_speed_k  = 0.3

fire_bone         = wpn_body
fire_bone2        = wpn_body
fire_point        = 0.0, 0.0, 0.5
fire_point2       = 0.0, 0.0, 0.5
fire_direction    = 0.0, 0.0, 1

shoot_point       = 0, 0.048, 0

shell_point 	  = 0.011500,0.005500,0.093000
shell_dir         = 0,1,0
shell_bone 	  = wpn_body

freelook_z_offset_mul	  = 0.6

;-----------------------------------------------------------------------Addons--------------------------------------------------------------------------
[wpn_ak74u_kobra]:wpn_ak74u
scope_name       = kobra
scope_x     = 60
scope_y     = -2

inv_weight        = 3.700

hud       = wpn_ak74u_kobra_hud

[wpn_ak74u_kobra_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.061520,-0.004500,-0.047125
aim_hud_offset_pos_16x9  = -0.061520,-0.004500,-0.047125
aim_hud_offset_rot	 = 0.002837,-0.001175,0.004500
aim_hud_offset_rot_16x9  = 0.002837,-0.001175,0.004500

;------------------------------------------------------------------------------------------------
[wpn_ak74u_ekp8_02]:wpn_ak74u
scope_name       = ekp8_02
scope_x     = 61
scope_y     = -2

hud	 = wpn_ak74u_ekp8_02_hud

inv_weight        = 3.573

[wpn_ak74u_ekp8_02_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.060020,-0.004000,-0.050625
aim_hud_offset_pos_16x9  = -0.060020,-0.004000,-0.050625
aim_hud_offset_rot	 = 0.004837,0.001825,0.004500
aim_hud_offset_rot_16x9  = 0.004837,0.001825,0.004500

;---------------------------------------------------------------------------------------------------
[wpn_ak74u_okp]:wpn_ak74u
scope_name       = okp
scope_x     = 63
scope_y     = -1

hud	 = wpn_ak74u_okp_hud

inv_weight        = 3.555

[wpn_ak74u_okp_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, pka, pso, usp1

aim_hud_offset_pos	 = -0.054720,0.010300,-0.041525
aim_hud_offset_pos_16x9  = -0.054720,0.010300,-0.041525
aim_hud_offset_rot	 = 0.004337,-0.002675,0.004500
aim_hud_offset_rot_16x9  = 0.004337,-0.002675,0.004500

;-----------------------------------------------------------------------------------------------------------------------
[wpn_ak74u_pso2]:wpn_ak74u

scope_name       = pso2
scope_x     = 35
scope_y     = 0

inv_weight        = 3.900

hud       = wpn_ak74u_pso2_hud

[wpn_ak74u_pso2_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, usp1

aim_hud_offset_pos	 = -0.046020,0.015800,-0.049425
aim_hud_offset_pos_16x9  = -0.046020,0.015800,-0.049425
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;---------------------------------------------------------------------------------------------------
[wpn_ak74u_pka]:wpn_ak74u
scope_name       = pka
scope_x     = 73
scope_y     = -2

inv_weight        = 3.950
hud       = wpn_ak74u_pka_hud


[wpn_ak74u_pka_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pso, usp1

aim_hud_offset_pos	 = -0.050220,0.005700,-0.070625
aim_hud_offset_pos_16x9  = -0.050220,0.005700,-0.070625
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;---------------------------------------------------------------------------------------------------
[wpn_ak74u_1p78gs]:wpn_ak74u

scope_name       = 1p78gs
scope_x     = 50
scope_y     = -5

inv_weight        = 3.800

hud       = wpn_ak74u_1p78gs_hud

[wpn_ak74u_1p78gs_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.059320,0.005400,-0.029325
aim_hud_offset_pos_16x9  = -0.059320,0.005400,-0.029325
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;-----------------------------------------------------------------------------------------------------
[wpn_ak74u_1pn93n2_1gs]:wpn_ak74u

hud	 = wpn_ak74u_1pn93n2_1gs_hud

scope_name       = 1pn93n2_1gs
scope_x     = 30
scope_y     = -5

inv_weight        = 4.250

[wpn_ak74u_1pn93n2_1gs_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, ekp8_02, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.044320,0.006500,-0.031525
aim_hud_offset_pos_16x9  = -0.044320,0.006500,-0.031525
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;---------------------------------------------------------------------------------------------
[wpn_ak74u_1pn93]:wpn_ak74u

inv_weight	 = 4.550

hud  = wpn_ak74u_1pn93_hud

scope_name 	     = 1pn93
scope_x	 = 30
scope_y	 = -5

[wpn_ak74u_1pn93_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.048820,-0.002200,-0.021025
aim_hud_offset_pos_16x9  = -0.048820,-0.002200,-0.021025
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;---------------------------------------------------------------------------------------------------
[wpn_ak74u_1p29]:wpn_ak74u
scope_name       = 1p29
scope_x     = 56
scope_y     = 1

inv_weight        = 4.100

hud       = wpn_ak74u_1p29_hud

[wpn_ak74u_1p29_hud]:wpn_ak74u_hud

hidden_bones = 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.060820,0.003400,-0.021625
aim_hud_offset_pos_16x9  = -0.060820,0.003400,-0.021625
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;-----------------------------------------------------------------------------------------------------
[wpn_ak74u_usp1]:wpn_ak74u  
scope_name       = usp1
scope_x     = 51
scope_y     = 1

inv_weight        = 4.100

hud       = wpn_ak74u_usp1_hud

[wpn_ak74u_usp1_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p76, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso

aim_hud_offset_pos	 = -0.063620,-0.000200,-0.053025
aim_hud_offset_pos_16x9  = -0.063620,-0.000200,-0.053025
aim_hud_offset_rot	 = -0.000663,0.007825,0.004500
aim_hud_offset_rot_16x9  = -0.000663,0.007825,0.004500

;-----------------------------------------------------------------------------------------------------
[wpn_ak74u_1p76]:wpn_ak74u

inv_weight	 = 3.980

hud  = wpn_ak74u_1p76_hud

scope_name 	     = 1p76
scope_x	 = 60
scope_y	 = -4

[wpn_ak74u_1p76_hud]:wpn_ak74u_hud

hidden_bones = 1p29, 1p78gs, 1pn93, 1pn93n2_1gs, ekp8_02, kobra, okp, pka, pso, usp1

aim_hud_offset_pos	 = -0.062320,-0.008900,-0.056425
aim_hud_offset_pos_16x9  = -0.062320,-0.008900,-0.056425
aim_hud_offset_rot	 = 0.000000,0.000000,0.000000
aim_hud_offset_rot_16x9  = 0.000000,0.000000,0.000000
;----------------------------------------------------------------------------------------