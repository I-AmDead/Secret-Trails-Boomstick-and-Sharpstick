function element_0(shader, t_base, t_second, t_detail)
    shader:begin("deffer_model_flat","deffer_base_flat")
    : fog (false)       
    : blend(true, blend.zero, blend.one)
    : scopelense(true)
    shader:dx10texture("s_base", t_base)
    shader:dx10sampler("smp_base")
    shader:dx10stencil(true, cmp_func.always, 2, 2, stencil_op.replace, stencil_op.replace, stencil_op.replace)
    shader:dx10stencil_ref(2)
end

function element_1(shader, t_base, t_second, t_detail)
    shader:begin("deffer_model_flat","models_scope_zwrite")
	: zb(false, true)
    shader:dx10texture("rt_tempzb", "$user$temp_zb")
    shader:dx10sampler("smp_rtlinear")
    shader:dx10stencil(true, cmp_func.equal, 2, 2, stencil_op.zero, stencil_op.zero, stencil_op.zero)
    shader:dx10stencil_ref(2)
end

function element_2(shader, t_base, t_second, t_detail)
	shader:begin("models_scope_reticle", "models_scope_reticle")
	: fog(true)
	: zb(true, false)
	: blend(true, blend.srcalpha, blend.invsrcalpha)
	: aref(true, 0)
	: sorting(2, true)
	: distort(true)
	shader:dx10texture("s_base", t_base)
	shader:dx10texture("s_env0", "$user$sky0")
	shader:dx10texture("s_env1", "$user$sky1")
	shader:dx10texture("s_prev_frame", "$user$generic_temp")
	shader:dx10texture("s_tonemap", "$user$tonemap")
	shader:dx10texture("s_position", "$user$position")
	shader:dx10texture("s_blur_2", "$user$blur_2")
	shader:dx10texture("s_heat", "$user$heat")
	shader:dx10texture("s_inside", "wpn\\scope_utility\\inside")
	shader:dx10texture("s_dirt", "wpn\\scope_utility\\dirt")
	shader:dx10sampler("smp_base")
end
